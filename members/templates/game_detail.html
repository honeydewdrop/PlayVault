{% extends "navbar.html" %}
{% block title %}Game Detail - {{ game.name }}{% endblock %}

{% block content %}
<div class="min-h-screen bg-gradient-to-t from-black to-red-500 p-6"> <!-- Added gradient background -->
    <h1 class="text-4xl font-bold text-white mb-4">{{ game.name }}</h1>
    <p class="sub-title text-white">Released on {{ game.release_date }}</a></p>

    <div class="flex flex-col md:flex-row">
        <!-- Image on the left -->
        {% if game.cover_url %}
            <div class="mb-6 md:mr-6">
                <img src="{{ game.cover_url }}" alt="{{ game.name }}" class="rounded-lg h-64 w-56 object-cover shadow-lg">
            </div>
        {% endif %}

        <!-- Game Details on the right -->
        <div class="bg-white rounded-lg shadow-md p-6 flex-1">
            <div class="flex flex-col md:flex-row md:space-x-4">
                <div class="flex-1">
                    <p class="sub-title">by <a href="/company/{{ game.company_slug }}">{{ game.company }}</a></p>
                    <p class="text-gray-700">{{ game.description }}</p>
                </div>
                <div class="flex-1">
                    <p class="text-gray-700"><strong>Genre:</strong> {{ game.genre }}</p>
                    <p class="text-gray-700"><strong>Platforms:</strong> {{ game.platforms }}</p>
                </div>
            </div>
            <p class="text-gray-700"><strong>Companies:</strong> {{ game.companies }}</p>
        </div>
    </div>

    <!-- New Section for Reviews -->
    <div class="mt-6">
        <h2 class="text-2xl font-semibold mb-2 text-white">User Reviews</h2>
        {% for review in game.reviews %}
            <div class="border-b mb-4 pb-2">
                <p><strong>{{ review.user.username }}</strong>: {{ review.content }}</p>
                <p>Rating: {{ review.rating }} â˜…</p>
            </div>
        {% empty %}
            <p class="text-white">No reviews yet.</p>
        {% endfor %}
        <a href="/games/{{ game.id }}/reviews/" class="text-blue-500">See all reviews</a>
    </div>
</div>
{% endblock %}